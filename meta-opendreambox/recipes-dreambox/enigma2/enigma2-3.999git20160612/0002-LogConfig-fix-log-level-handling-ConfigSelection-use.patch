From 43a1859256ce9943c855f5005e86bd32cd60cf78 Mon Sep 17 00:00:00 2001
From: reichi <reichi@opendreambox.org>
Date: Mon, 8 Sep 2014 17:02:08 +0200
Subject: [PATCH 2/2] LogConfig: fix log level handling (ConfigSelection uses
 string-indexes)

(cherry picked from commit 8a79f6e92d76d73271a9ed6531e91084b75076bf)
---
 usr/lib/enigma2/python/Tools/LogConfig.py | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/usr/lib/enigma2/python/Tools/LogConfig.py b/usr/lib/enigma2/python/Tools/LogConfig.py
index 95d0a45..f97c83a 100644
--- a/usr/lib/enigma2/python/Tools/LogConfig.py
+++ b/usr/lib/enigma2/python/Tools/LogConfig.py
@@ -16,10 +16,10 @@ class LogConfig(object):
 		if LogConfig._initialized:
 			return
 		else:
-			from Components.config import config, ConfigSubsection, ConfigOnOff, ConfigSelection, ConfigInteger
+			from Components.config import config, ConfigSubsection, ConfigOnOff, ConfigSelection
 			config.log = ConfigSubsection()
 			config.log.level = ConfigSelection(
-				choices={ LOG_TYPE_INFO : "INFO", LOG_TYPE_WARNING : "WARNING", LOG_TYPE_ERROR : "ERROR" }, default=LOG_TYPE_INFO)
+				choices={ str(LOG_LEVEL_DEBUG) : "DEBUG", str(LOG_LEVEL_INFO) : "INFO", str(LOG_LEVEL_WARNING) : "WARNING", str(LOG_LEVEL_ERROR) : "ERROR",  }, default=str(LOG_LEVEL_INFO))
 			config.log.verbose = ConfigOnOff(default=False)
 			config.log.colored = ConfigOnOff(default=True)
 			LogConfig._initialized = True
@@ -27,7 +27,7 @@ class LogConfig(object):
 	@staticmethod
 	def level():
 		from Components.config import config
-		return config.log.level.value
+		return int(config.log.level.value)
 
 	@staticmethod
 	def verbose():
-- 
1.9.1

