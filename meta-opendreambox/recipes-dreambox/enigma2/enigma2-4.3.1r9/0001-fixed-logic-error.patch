From ea7e7e18d143a7d1662d3d1036d41d4cb0ad379d Mon Sep 17 00:00:00 2001
From: ghost <andreas.monzner@dream-property.net>
Date: Mon, 17 Jul 2017 22:59:15 +0200
Subject: [PATCH] startwizard: fixed logic error

---
 usr/share/enigma2/startwizard.xml | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

diff --git a/usr/share/enigma2/startwizard.xml b/usr/share/enigma2/startwizard.xml
index 1638818..9a176a1 100644
--- a/usr/share/enigma2/startwizard.xml
+++ b/usr/share/enigma2/startwizard.xml
@@ -79,7 +79,8 @@ self.selectKey("DOWN")
 			<condition>
 from Components.config import config
 from Components.NimManager import nimmanager
-self.condition = len(nimmanager.nim_slots) > 0 and not nimmanager.nim_slots[0].empty and config.misc.startwizard.shownimconfig.value
+slot = len(nimmanager.nim_slots) &gt; 0 and nimmanager.nim_slots[0]
+self.condition = slot and not slot.empty and config.misc.startwizard.shownimconfig.value and (slot.inputs is None or slot.channel &lt; 2)
 			</condition>
 			<text dynamictext="setTunerText" />
 			<short_title value="Tuner A" />
@@ -94,7 +95,8 @@ self.selectKey("RIGHT")
 			<condition>
 from Components.config import config
 from Components.NimManager import nimmanager
-self.condition = len(nimmanager.nim_slots) > 1 and not nimmanager.nim_slots[1].empty and config.misc.startwizard.shownimconfig.value
+slot = len(nimmanager.nim_slots) &gt; 1 and nimmanager.nim_slots[1]
+self.condition = slot and not slot.empty and config.misc.startwizard.shownimconfig.value and (slot.inputs is None or slot.channel &lt; 2)
 			</condition>
 			<text dynamictext="setTunerText" />
 			<short_title value="Tuner B" />
@@ -109,7 +111,8 @@ self.selectKey("RIGHT")
 			<condition>
 from Components.config import config
 from Components.NimManager import nimmanager
-self.condition = len(nimmanager.nim_slots) > 2 and not nimmanager.nim_slots[2].empty and config.misc.startwizard.shownimconfig.value
+slot = len(nimmanager.nim_slots) &gt; 2 and nimmanager.nim_slots[2]
+self.condition = slot and not slot.empty and config.misc.startwizard.shownimconfig.value and (slot.inputs is None or slot.channel &lt; 2)
 			</condition>
 			<text dynamictext="setTunerText" />
 			<short_title value="Tuner C" />
@@ -124,7 +127,8 @@ self.selectKey("RIGHT")
 			<condition>
 from Components.config import config
 from Components.NimManager import nimmanager
-self.condition = len(nimmanager.nim_slots) > 3 and not nimmanager.nim_slots[3].empty and config.misc.startwizard.shownimconfig.value
+slot = len(nimmanager.nim_slots) &gt; 3 and nimmanager.nim_slots[3]
+self.condition = slot and not slot.empty and config.misc.startwizard.shownimconfig.value and (slot.inputs is None or slot.channel &lt; 2)
 			</condition>
 			<text dynamictext="setTunerText" />
 			<short_title value="Tuner D" />
-- 
2.1.4

