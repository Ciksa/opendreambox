From 661f24baf8abf303821bca27e0ba6c939f1aba37 Mon Sep 17 00:00:00 2001
From: ghost <andreas.monzner@dream-property.net>
Date: Wed, 24 Apr 2013 18:22:04 +0200
Subject: [PATCH] show "<n/a>" for unknown services, remove duplicate getName

---
 usr/lib/enigma2/python/Components/ServiceList.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/usr/lib/enigma2/python/Components/ServiceList.py b/usr/lib/enigma2/python/Components/ServiceList.py
index e34aa98..d58a3c6 100644
--- a/usr/lib/enigma2/python/Components/ServiceList.py
+++ b/usr/lib/enigma2/python/Components/ServiceList.py
@@ -239,8 +239,8 @@ class ServiceList(HTMLComponent, GUIComponent):
 		if marked > 0:
 			res.append((eListboxPythonMultiContent.TYPE_TEXT, 0, 0, width , height, 1, RT_HALIGN_RIGHT, "", forgroundColor, forgroundColorSel, backgroundColor, backgroundColorSel))
 
-		info = self.service_center.info(service)		
-		serviceName = info.getName(service) or ServiceReference(service).getServiceName() or ""
+		info = self.service_center.info(service)
+		serviceName = info.getName(service) or "<n/a>"
 		event = info.getEvent(service)
 		index = self.getCurrentIndex()
 		xoffset = 2
@@ -621,7 +621,7 @@ class ServiceList(HTMLComponent, GUIComponent):
 		for s in self.list:
 			service = s[0]
 			info = self.service_center.info(service)
-			serviceName = info.getName(service) or ServiceReference(service).getServiceName() or ""
+			serviceName = info.getName(service) or ""
 			if serviceName != "":
 				idx=0
 				length = len(serviceName) -1
-- 
1.7.10.4

