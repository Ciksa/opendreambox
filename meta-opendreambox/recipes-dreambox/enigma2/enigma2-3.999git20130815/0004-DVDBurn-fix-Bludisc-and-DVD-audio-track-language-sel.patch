From 69b6f0751609e2b29bf1ef039dd3d75bcb6c5093 Mon Sep 17 00:00:00 2001
From: Andreas Frisch <fraxinas@opendreambox.org>
Date: Fri, 16 Aug 2013 09:52:11 +0200
Subject: [PATCH 4/6] DVDBurn: fix Bludisc and DVD audio track language
 selection

fixes #1001
---
 usr/lib/enigma2/python/Plugins/Extensions/DVDBurn/Project.py | 24 ++++++++++--------------
 1 file changed, 10 insertions(+), 14 deletions(-)

diff --git a/usr/lib/enigma2/python/Plugins/Extensions/DVDBurn/Project.py b/usr/lib/enigma2/python/Plugins/Extensions/DVDBurn/Project.py
index 28be08f..6f2758c 100644
--- a/usr/lib/enigma2/python/Plugins/Extensions/DVDBurn/Project.py
+++ b/usr/lib/enigma2/python/Plugins/Extensions/DVDBurn/Project.py
@@ -251,24 +251,20 @@ class DVDISO639Language(ISO639Language):
 	def __init__(self):
 		ISO639Language.__init__(self, self.PRIMARY)
 
-	def get_dvd_id(self, lang):
+	def get_dvd_id(self, language):
 		ret = "nolang"
-		if lang in self.idlist_by_name:
-			for lang, id_list in self.idlist_by_name.iteritems():
-				for id in id_list:
-					if len(id) == 2:
-						ret = id
-						break
+		if language in self.idlist_by_name:
+			for lang in self.idlist_by_name[language]:
+				if len(lang) == 2:
+					return lang
 		return ret
 
-	def get_bludisc_id(self, lang):
+	def get_bludisc_id(self, language):
 		ret = "und"
-		if lang in self.idlist_by_name:
-			for lang, id_list in self.idlist_by_name.iteritems():
-				for id in id_list:
-					if len(id) == 3:
-						ret = id
-						break
+		if language in self.idlist_by_name:
+			for lang in self.idlist_by_name[language]:
+				if len(lang) == 3:
+					return lang
 		return ret
 
 iso639language = DVDISO639Language()
-- 
1.8.4.rc1

