From f7aee8fa5d092b6afbb02e9a000e0c2607c76686 Mon Sep 17 00:00:00 2001
From: ghost <andreas.monzner@dream-property.net>
Date: Fri, 16 Aug 2013 20:35:24 +0200
Subject: [PATCH 8/8] added missing check to detect if the last automatic
 wakeup was a record timer wakeup

---
 RecordTimer.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/usr/lib/enigma2/python/RecordTimer.py b/usr/lib/enigma2/python/RecordTimer.py
index 5094271..15b10c5 100644
--- a/usr/lib/enigma2/python/RecordTimer.py
+++ b/usr/lib/enigma2/python/RecordTimer.py
@@ -295,7 +295,9 @@ class RecordTimerEntry(timer.TimerEntry, object):
 				self.state -= 1
 				return True
 			self.log(12, "stop recording")
-			force_auto_shutdown = NavigationInstance.instance.wasTimerWakeup() and Screens.Standby.inStandby and config.misc.standbyCounter.value == 1
+			force_auto_shutdown = NavigationInstance.instance.wasTimerWakeup() and \
+				config.misc.isNextRecordTimerAfterEventActionAuto.value and \
+				Screens.Standby.inStandby and config.misc.standbyCounter.value == 1
 			if not self.justplay:
 				NavigationInstance.instance.stopRecordService(self.record_service)
 				self.record_service = None
-- 
1.7.7

