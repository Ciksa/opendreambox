From 922de81132b00b808acc2a080adbefdcb753bade Mon Sep 17 00:00:00 2001
From: ghost <andreas.monzner@dream-property.net>
Date: Sat, 14 May 2016 12:57:49 +0200
Subject: [PATCH] TimerSanityCheck: fixed false positive "Channel not in
 service list" conflicts

---
 usr/lib/enigma2/python/Components/TimerSanityCheck.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/usr/lib/enigma2/python/Components/TimerSanityCheck.py b/usr/lib/enigma2/python/Components/TimerSanityCheck.py
index a622b46..94c095c 100644
--- a/usr/lib/enigma2/python/Components/TimerSanityCheck.py
+++ b/usr/lib/enigma2/python/Components/TimerSanityCheck.py
@@ -183,12 +183,12 @@ class TimerSanityCheck:
 					fakeRecResult = -1
 				if not fakeRecResult: # tune okay
 					fakeRecService.frontendInfo() and tunerType.append(fakeRecService.frontendInfo().getFrontendData().get("tuner_type"))
-				else: # tune failed.. so we must go another way to get service type (DVB-S, DVB-T, DVB-C)
+				else: # tune failed.. so we must go another way to get service type (iDVBFrontend.feSatellite, iDVBFrontend.feTerrestrial, iDVBFrontend.feCable)
 
 					def getServiceType(ref): # helper function to get a service type of a service reference
 						serviceInfo = serviceHandler.info(ref)
 						serviceInfo = serviceInfo and serviceInfo.getInfoObject(ref, iServiceInformation.sTransponderData)
-						return serviceInfo and serviceInfo["tuner_type"] or ""
+						return -1 if serviceInfo is None else serviceInfo.get("tuner_type", -1)
 
 					ref = timer.service_ref.ref
 					if ref.flags & eServiceReference.isGroup: # service group ?
-- 
1.9.1

